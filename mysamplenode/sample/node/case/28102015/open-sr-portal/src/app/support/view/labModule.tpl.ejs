<section class="content-header">
  <h1>
        Lab Resource Plan Request Form
  </h1>          
</section>
<section class="content">
<div id="labmodulePage" class="box box-default boxdefault client-overflow pad-rght30" ng-init="getTimezone(); Datainit('getLabmodule','i')"> 
  <div class="box-body">
    <div class="row">
      <form id="frmLabmodule" name="frmLabmodule" action="" method="post" class="form-box ui-formwizard" novalidate>
      <div class="col-md-12 mar_bottom">
        <h4> General </h4>
        <div class="box box-primary">           
          <div class="box-body">
            <div class="col-md-12">
              <div class="col-md-3">   
                <div class="form-group" show-errors>
                  <label>Account Manager</label>
                  <input type="text" class="form-control" name="account_manager" id="account_manager" ng-model="frmData.account_manager" placeholder="Enter ..." required>
                </div><!-- /.form-group -->              
              </div><!-- /.col -->
              <div class="col-md-3">
                <div class="form-group" show-errors> 
                  <label>Final Version</label>
                  <input type="text" class="form-control" name="final_version" id="final_version" ng-model="frmData.final_version" placeholder="Enter ..." required>
                </div><!-- /.form-group -->                 
              </div><!-- /.col -->
              <div class="col-md-3">
                <div class="form-group" show-errors> 
                  <label>Work Time Zone</label>
                  <select ng-disabled="isUserUpdate" class="form-control" placeholder="Time Zone" id="timezone_id_fk" name="timezone_id_fk" ng-model="frmData.timezone_id_fk" ng-options="tzone.timezone_id_pk as tzone.timezone_name for tzone in tzoneData" required>
                    <option value="">--Select--</option>
                  </select>
                </div><!-- /.form-group -->          
              </div><!-- /.col -->
              <div class="col-md-3">
                <div class="form-group" show-errors> 
                  <label>Expected Date of Roll Out</label>
                  <input calendar type="text" class="form-control" name="roll_out_date" id="roll_out_date" ng-model="frmData.roll_out_date" placeholder="Enter ..." required>
                </div><!-- /.form-group -->         
              </div><!-- /.col -->                                            
            </div> 

            <div class="col-md-3">
              <div class="col-md-12"><h3>Location</h3></div>
              <div class="col-md-12">
                <div class="form-group" show-errors> 
                  <label>Location of Operation</label>
                  <input type="text" class="form-control" name="location" id="location" ng-model="frmData.location" placeholder="Enter ..." required>
                </div><!-- /.form-group -->            
              </div><!-- /.col -->
            </div>

            <div class="col-md-12">
              <div class="col-md-12"><h3>Man Power</h3></div>
              <div class="col-md-3">
                <div class="form-group" show-errors> 
                  <label>No. of Positions</label>
                  <input type="number" class="form-control" name="no_of_postion" id="no_of_postion" ng-model="frmData.no_of_postion" placeholder="Enter ..." required>
                </div><!-- /.form-group --> 
              </div>
              <div class="col-md-6">  
                <div class="form-group" show-errors>       
                  <label>Employee Name / Employee ID / Email ID / Seat ID</label>
                  <input type="text" class="form-control" name="emp_details" id="emp_details" ng-model="frmData.emp_details" placeholder="Enter ..." required>
                </div><!-- /.form-group -->                
              </div><!-- /.col -->    
            </div><!-- /.col -->
            <div class="col-md-12">
              <div class="col-md-12"><h3>Hardware & Software</h3></div>
              <div class="col-md-3">
                <div class="form-group" show-errors> 
                  <label>Number of Seats</label>
                  <input type="number" class="form-control" name="hs_no_of_seat" id="hs_no_of_seat" ng-model="frmData.hs_no_of_seat" placeholder="Enter ..." required>
                </div><!-- /.form-group -->  
              </div><!-- /.col -->
              <div class="col-md-3">
                <div class="form-group" show-errors> 
                  <label>Systems</label>
                  <input type="number" class="form-control" name="hs_no_of_systems" id="hs_no_of_systems" ng-model="frmData.hs_no_of_systems" placeholder="Enter ..." required>
                </div><!-- /.form-group -->                 
              </div><!-- /.col -->
            </div>


                                
              </div><!-- /.col -->
            </div>
          </div>
      
      </form>

      <div class="col-md-12 mar_bottom" ng-repeat="catList in labCat">
        <div class="col-md-11"><h4> {{catList.labrrf_ctgy_name}} </h4></div>
        <div class="col-md-1"><button ng-disabled="isAddButtonEnabled" class="btn btn-default" ng-click="addLabTrans($index,headList.idt_labrrf_trans_mas_id_pk,catList.labrrf_ctgy_id_pk)"><span class="glyphicon glyphicon-plus-sign"></span>Add</button></div>
        <div style="clear:both;"></div>
        <div class="box box-primary">           
          <div class="box-body">
            <table class="table table-bordered table-hover table-condensed">
              <tr style="font-weight: bold">
                <th width="30%">Name</th>
                <th>Description</th>
                <th>Remarks</th>
                <th width="10%">Action</th>
              </tr>
              <tr ng-repeat="rowDet in headList.t2 | filter:{labrrf_ctgy_id_fk: catList.labrrf_ctgy_id_pk}">
                <td>
                  <span onbeforesave="checkValid($data)" editable-text="rowDet.labrrf_subctgy_name" e-name="labrrf_subctgy_name" e-form="rowform" e-required>
                    {{ rowDet.labrrf_subctgy_name }}
                  </span>
                </td>
                <td>
                  <span onbeforesave="checkValid($data)" editable-text="rowDet.labrrf_trans_desc" e-name="labrrf_trans_desc" e-form="rowform" e-required>
                    {{ rowDet.labrrf_trans_desc }}
                  </span>
                </td>
                <td>
                  <span onbeforesave="checkValid($data)" editable-text="rowDet.labrrf_trans_remarks" e-name="labrrf_trans_remarks" e-form="rowform" e-required>
                    {{ rowDet.labrrf_trans_remarks }}
                  </span>
                </td>
                <td nowrap>
                  <!-- form -->
                  <form editable-form name="rowform" onbeforesave="saveLabmodultTrans($data,headList.idt_labrrf_trans_mas_id_pk, catList.labrrf_ctgy_id_pk, rowDet.labrrf_trans_id_pk, $index)" oncancel="cancelNewRow(rowDet.labrrf_trans_id_pk)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == rowDet">{{$data}}
                    <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary fa fa-floppy-o"></button>
                    <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default fa fa-times"></button>
                  </form>
                  <div class="buttons" ng-show="!rowform.$visible">
                    <button ng-disabled="isEditButtonEnabled" class="btn btn-primary fa fa-pencil-square-o" ng-click="rowform.$show()"></button>
                    <button ng-disabled="isEditButtonEnabled" class="btn btn-danger fa fa-trash" ng-click="removeLabTrans(rowDet.labrrf_trans_id_pk)"></button>
                  </div>
                </td>
              </tr>
            </table><br />
          </div>
        </div>
      </div>
      </form>
    </div><!-- /.row -->
    <div class="box-footer">                          
                  <div class="btn-group">
                    <button ng-disabled="isAddButtonEnabled" class="btn btn-block btn-default save_but" type="button" id="validateBtn" ng-click="saveLabmodule()">
                    <i class="fa fa-check position_left"></i> Save
                    </button>
                  </div>
                  <div class="btn-group">
                    <button class="btn btn-block btn-default cancel_but" type="submit" ng-click="clearfrm()">
                    <i class="fa fa-times position_left"></i> Cancel
                    </button>
                  </div>
                </div><!-- /.box-footer -->
  </div><!-- /.box -->          
  </div>
</div>      
</section>
