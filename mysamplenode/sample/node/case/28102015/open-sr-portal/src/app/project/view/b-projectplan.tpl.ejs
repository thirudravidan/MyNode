<div id="proj_plan">
<div id="projectPlan" ng-controller="projectplanCtrl">
<!-- <section class="content-header">
	<h1>Project Plan</h1>          
</section> -->
<section class="content">
<!-- <div id="projectplanPage" class="box box-default">   -->
<div style="width:100%;">
<div style="background:#fff;  height: 562px;position: relative;">

<div id="workSpace" class="gant_wdth" style="padding:0px; overflow-y:auto; overflow-x:hidden;position:relative;margin:0 5px; "></div>

<div id="taZone" style="display:none;" class="noprint" ng-init="getAllPhaseDetails();loadscripts();">
   <!-- <textarea rows="8" cols="150" id="ta">
     
   </textarea> -->

  <button onclick="loadGanttFromServer();">load</button>
</div>



<div id="gantEditorTemplates" style="display:none;">
  <div class="__template__" type="GANTBUTTONS"><!--
  <div class="ganttButtonBar noprint">
    <h2 style="float:left;margin: 0;font-size: 18px;color:#000; padding:5px 0 0 5px;"><span id="phasename"></span></h2>
    <div class="buttons">
    <button onclick="$('#workSpace').trigger('undo.gantt');" class="button textual" title="undo"><span class="teamworkIcon">&#39;</span></button>
    <button onclick="$('#workSpace').trigger('redo.gantt');" class="button textual" title="redo"><span class="teamworkIcon">&middot;</span></button>
    <span class="ganttButtonSeparator"></span>
    <button onclick="$('#workSpace').trigger('addAboveCurrentTask.gantt');" class="button textual" title="insert above"><span class="teamworkIcon">X</span></button>
    <button onclick="$('#workSpace').trigger('addBelowCurrentTask.gantt');" class="button textual" title="insert below"><span class="teamworkIcon">l</span></button>
    <span class="ganttButtonSeparator"></span>
    <button onclick="$('#workSpace').trigger('indentCurrentTask.gantt');" class="button textual" title="Indent task"><span class="teamworkIcon">.</span></button>
    <button onclick="$('#workSpace').trigger('outdentCurrentTask.gantt');" class="button textual" title="Outdent task"><span class="teamworkIcon">:</span></button>
    <span class="ganttButtonSeparator"></span>
    <button onclick="$('#workSpace').trigger('moveUpCurrentTask.gantt');" class="button textual" title="move up"><span class="teamworkIcon">k</span></button>
    <button onclick="$('#workSpace').trigger('moveDownCurrentTask.gantt');" class="button textual" title="move down"><span class="teamworkIcon">j</span></button>
    <span class="ganttButtonSeparator"></span>
    <button onclick="$('#workSpace').trigger('zoomMinus.gantt');" class="button textual" title="zoom out"><span class="teamworkIcon">)</span></button>
    <button onclick="$('#workSpace').trigger('zoomPlus.gantt');" class="button textual" title="zoom in"><span class="teamworkIcon">(</span></button>
    <span class="ganttButtonSeparator"></span>
    <button onclick="$('#workSpace').trigger('deleteCurrentTask.gantt');" class="button textual" title="delete"><span class="teamworkIcon">&cent;</span></button>
    <span class="ganttButtonSeparator"></span>
    <button onclick="print();" class="button textual" title="print"><span class="teamworkIcon">p</span></button>
    <span class="ganttButtonSeparator"></span>
   <button id="highlvlPlan" data-moduleId="13" class="button textual" title="highlevelplan">High Level Plan <b class="caret"></b>
      <div class="highlevelplanmnu" parent="[title=highlevelplan]">
        <ul style="padding:0;">
            <li id="11"><a>
                Highlight / Edit</a></li><li id="22" ><a>Save / Update</a></li></ul>
      </div>
   </button>
  
   <span class="ganttButtonSeparator"></span>
      <button id="phaseopt" class="button textual" data-moduleid="2" title="phaseoptions">Phase Options <b class="caret"></b>
        <div class="phasemnu">
        </div>
      </button>
    <span class="ganttButtonSeparator"></span>  
      <button id="savetemp" class="button textual" data-moduleid="2" title="SaveasTemplate">Save Template  
      </button>
    <span class="ganttButtonSeparator"></span>
       <button id="showhidecol" style="position:relative;" data-moduleid="18" class="button textual" title="Hide/Show Columns">Hide/Show <b class="caret"></b>
          <div class="showhidecol"></div>
       </button>
    <span class="ganttButtonSeparator"></span> 

    <input type="checkbox" name="chkshowGantt" id="chkshowGantt" onClick="showGantt(this);" text="Hide Gantt" value="" style="position:relative;top: 2px;margin-right: 5px;"><span style="color:#68979B;">Hide Gantt</span>
    <span id="sendmailtoclientsep" data-moduleid="12" class="ganttButtonSeparator"></span>
    <button id="sendmailtoclient" data-moduleid="12" class="button textual" onclick="angular.element(document.getElementById('projectPlan')).scope().sendMailtoClient();" title="Send Mail To Client">Send Mail  
    </button>
    <span id="clientapprovesep" data-moduleid="2" class="ganttButtonSeparator"></span>  
    <button id="clientapprove" class="button textual" data-moduleid="2" title="signoff">Sign off  
    </button>
    <span class="ganttButtonSeparator"></span>    
    <button id="saveprojplan" onclick="angular.element(document.getElementById('projectPlan')).scope().savepp();" data-moduleid="2" class="button first big" title="save"><i class="fa fa-floppy-o"></i></button>
  </div></div>$('#workSpace').trigger('saveGanttOnServer.gantt');

  --></div>
<!-- <button onclick="saveGanttOnServer();" class="button first big" title="save">save</button> -->
  <div class="__template__" type="TASKSEDITHEAD">
  </div>

  <div class="__template__" type="TASKROW"></div>

  <div class="__template__" type="TASKEMPTYROW"></div>

  <div class="__template__" type="TASKBAR"><!--
  <div class="taskBox taskBoxDiv" taskId="(#=obj.id#)" >
    <div class="layout (#=obj.hasExternalDep?'extDep':''#)">
      <div class="taskStatus" status="(#=obj.status#)"></div>
      <div class="taskProgress" style="width:(#=obj.progress>100?100:obj.progress#)%; background-color:(#=obj.progress>100?'red':'rgb(153,255,51);'#);"></div>
      <div class="milestone (#=obj.startIsMilestone?'active':''#)" ></div>

      <div class="taskLabel"></div>
      <div class="milestone end (#=obj.endIsMilestone?'active':''#)" ></div>
    </div>
  </div>
  --></div>

  <div class="__template__" type="CHANGE_STATUS"><!--
    <div class="taskStatusBox">
      <div class="taskStatus cvcColorSquare" status="STATUS_ACTIVE" title="Inprogress"></div>
      <div class="taskStatus cvcColorSquare" status="STATUS_DONE" title="Completed"></div>
      <div class="taskStatus cvcColorSquare" status="STATUS_FAILED" title="Overdue"></div>
      <div class="taskStatus cvcColorSquare" status="STATUS_SUSPENDED" title="Onhold"></div>
      <div class="taskStatus cvcColorSquare" status="STATUS_UNDEFINED" title="Open"></div>
    </div>
  --></div>


  <div class="__template__" type="TASK_EDITOR"><!--
  <div class="ganttTaskEditor">
  <table width="100%">
    <tr>
      <td>
        <table cellpadding="5">
          
           <tr>
            <td><label for="name">Task Name</label><br><input type="text" name="name" id="name" value=""  size="35" class="formElements"></td>
          </tr>
          <tr>
          </tr>
            <td>
              <label for="description">Description</label><br>
              <textarea rows="5" cols="30" id="description" name="description" class="formElements"></textarea>
            </td>
          </tr>
           <tr>
            <td><label for="primaryowner">Primary Owner</label><br><input type="text" name="primaryowner" id="primaryowner" value="" class="formElements"></td>
           </tr>
        </table>
      </td>
      <td valign="top">
        <table cellpadding="5">
    	<tr>
            <td><label for="secondaryowner">Secondary Owner</label><br><input type="text" name="secondaryowner" id="secondaryowner" value="" class="formElements"></td>
           </tr>
          <tr>
          <tr>
          <td><label for="status">Status</label><br><div id="status" class="taskStatus" option="projectTaskStatus" status=""></div></td>
          <td ><label for="progress">Progress</label><br><input type="text" name="progress" id="progress" value="" size="3" class="formElements"></td>

          <tr>
          <td><label for="start">Start Date</label><br><input type="text" name="start" id="start"  value="" class="date" size="10" class="formElements"><input type="checkbox" id="startIsMilestone"> </td>
          <td rowspan="2" class="graph" ><label for="duration">Duration</label><br><input type="text" name="duration" id="duration" value=""  size="5" class="formElements"></td>
        </tr><tr>
          <td><label for="end">End Date</label><br><input type="text" name="end" id="end" value="" class="date"  size="10" class="formElements"><input type="checkbox" id="endIsMilestone"></td>
        </table>
      </td>
    </tr>
    </table>

  <h2>assignments</h2>
  <table  cellspacing="1" cellpadding="0" width="100%" id="assigsTable">
    <tr>
      <th style="width:100px;">name</th>
      <th style="width:70px;">role</th>
      <th style="width:30px;">est.wklg.</th>
      <th style="width:30px;" id="addAssig"><span class="teamworkIcon" style="cursor: pointer">+</span></th>
    </tr>
  </table>

  <div style="text-align: right; padding-top: 20px"><button id="saveButton" class="button big">save</button></div>
  </div>
  --></div>


  <div class="__template__" type="ASSIGNMENT_ROW"><!--
  <tr taskId="(#=obj.task.id#)" assigId="(#=obj.assig.id#)" class="assigEditRow" >
    <td ><select name="resourceId"  class="formElements" (#=obj.assig.id.indexOf("tmp_")==0?"":"disabled"#) ></select></td>
    <td ><select type="select" name="roleId"  class="formElements"></select></td>
    <td ><input type="text" name="effort" value="(#=getMillisInHoursMinutes(obj.assig.effort)#)" size="5" class="formElements"></td>
    <td align="center"><span class="teamworkIcon delAssig" style="cursor: pointer">d</span></td>
  </tr>
  --></div>


  <div class="__template__" type="RESOURCE_EDITOR"><!--
  <div class="resourceEditor" style="padding: 5px;">

    <h2>Project team</h2>
    <table  cellspacing="1" cellpadding="0" width="100%" id="resourcesTable">
      <tr>
        <th style="width:100px;">name</th>
        <th style="width:30px;" id="addResource"><span class="teamworkIcon" style="cursor: pointer">+</span></th>
      </tr>
    </table>

    <div style="text-align: right; padding-top: 20px"><button id="resSaveButton" class="button big">save</button></div>
  </div>
  --></div>


  <div class="__template__" type="RESOURCE_ROW"><!--
  <tr resId="(#=obj.id#)" class="resRow" >
    <td ><input type="text" name="name" value="(#=obj.name#)" style="width:100%;" class="formElements"></td>
    <td align="center"><span class="teamworkIcon delRes" style="cursor: pointer">d</span></td>
  </tr>
  --></div>


</div>

</div>
</div>
</div>
</section>
</div>


<div id="filemodal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header mh">       
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        
        <h4 class="modal-title">File Attachment</h4>
      </div>
    <div class="modal-body">
  <div class="content-prodoc no-padding">
    <!--       <div>
        <img class="ddclose" style="position: absolute; right: -9px; top: -10px; cursor: pointer;
            width: 30px; height: 30px;" src="assets/img/ddclose.png" />
    </div> -->
   
    <div >
   
    </div>
    <div class="scroll-cloud">
    
    <table class="fixedhdr" border="1">
        <thead>
            <tr>
                <td>
                    S.No
                </td>
                <td>
                    Filename
                </td>
                <td>
                    UploadedBy
                </td>
                <td>
                    UploadedOn
                </td>
                <td>
                    Action
                </td>
            </tr>
        </thead>
    </table>
    <div class="scroll modalpopslim filattach-hgt">
        <table id="tbdoclist" class="tablecontent">
            <thead style="display: none;">
                <tr>
                    <th>
                        S.No
                    </th>
                    <th>
                        Filename
                    </th>
                    <th>
                        UploadedBy
                    </th>
                    <th width="100px">
                        UploadedOn
                    </th>
                    <th>
                        Action
                    </th>
                </tr>
            </thead>
            <!-- <tr>
            <td>
                1
            </td>
            <td>
                <img src="images/iconpdf.gif" /> FileName.pdf
            </td>
            <td>
                XXX
            </td>
            <td>
                24-Oct-2014
            </td>
            <td>
                <img class="download" src="images/download.png" />
            </td>
        </tr>
        
        <tr>
            <td>
                2
            </td>
            <td>
                <img src="images/iconimg.jpg" /> FileName.png
            </td>
            <td>
                XXX
            </td>
            <td>
                24-Oct-2014
            </td>
            <td>
                <img class="download" src="images/download.png" />
            </td>
        </tr>
        <tr>
            <td>
                3
            </td>
            <td>
                <img src="images/iconexcel.jpg" /> FileName.xls
            </td>
            <td>
                XXX
            </td>
            <td>
                24-Oct-2014
            </td>
            <td>
                <img class="download" src="images/download.png" />
            </td>
        </tr>-->
        </table>
    </div>
    </div>
</div>
      </div>
      <div class="modal-footer">
         <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
         <button type="file" class="btn btn-primary pull-left" data-dismiss="modal" ngf-select="uploadFiles($files)" accept="image/*" ngf-max-height="1000" ngf-max-size="1MB" title="Upload" multiple><i class="fa fa-cloud-upload"></i> Upload</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div id="commentmodal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header mh">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Task Comments</h4>
      </div>
    <div class="modal-body">
          <div class="content-prodoc">
          <div>
              <b>Enter your comments</b>(<size style="font-size: 8pt;">Max 250 characters</size>)
              <textarea id="txtComments" cols="86" class="form-control" maxlength="250" rows="2"></textarea>
              <input id="hdnHiddenTaskID" type="hidden" value="" />
              <button type="button" id="btnSaveComments" style="float: right; margin-bottom: 5px;
                  margin-top: 5px;" class="btn btn-success btn-sm pad" title="click to save the comments">
                  Add Comments</button>
          </div>

         <div class="scroll-cloud pull-left"> 
        
          <table class="fixedhdr" border="1">
              <thead>
                  <tr>
                      <td>
                          Comments
                      </td>
                      <td>
                          First Name
                      </td>
                      <!-- <td>
                          CommentBy
                      </td> -->
                      <td>
                          CommentOn
                      </td>
                  </tr>
              </thead>
          </table>
          <div class="scroll modalpopslim">
              <table id="tbcomments" class="tablecontent">
                  <thead style="display: none;">
                      <tr>
                          <th>
                              S.No
                          </th>
                          <th style="word-wrap: break-word; max-width: 500px;">
                              Comments
                          </th>
                          <th>
                              CommentBy
                          </th>
                          <th>
                              CommentOn
                          </th>
                      </tr>
                  </thead>
                  <!-- <tr>
                  <td>
                      1
                  </td>
                  <td>
                      Comments1
                  </td>
                  <td>
                      Kishore
                  </td>
                  <td>
                      24-Nov-2014
                  </td>
              </tr>-->
              </table>
          </div>
       
          </div>
      </div>
      
    </div>
    <div class="modal-footer">
    <!--   <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      <button type="button" class="btn btn-primary">Save changes</button> -->
    </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- save template modal strat -->
<div id="templatemodal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header mh">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Save as Template</h4>
      </div>
    <div class="modal-body">
          <div class="content-prodoc">
          <div>
              <b>Template Name</b><br />
               <input id="txtName" type="text" value="" /><br />
              <b>Enter your comments</b>(<size style="font-size: 8pt;">Max 250 characters</size>)<br />
              <textarea id="txtComments" cols="86" class="form-control" maxlength="250" rows="2"></textarea>
              <input id="hdnHiddenTaskID" type="hidden" value="" />
              <button type="button" id="btnTempSave" style="float: right; margin-bottom: 5px;
                  margin-top: 5px;" class="btn btn-success btn-sm pad" title="click to save the Template">
                  Save Template</button>
          </div>
          <br />
      </div>
      
    </div>
    <div class="modal-footer">
    <!--   <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      <button type="button" class="btn btn-primary">Save changes</button> -->
    </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- save template modal End -->

<!-- Client sign off modal strat -->
<div id="clientsignoffmodal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header mh">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Approve / Reject Project Plan</h4>
      </div>
    <div class="modal-body">
          <div class="content-prodoc">
          <div>              
              <b>Enter your comments</b>(<size style="font-size: 8pt;">Max 250 characters</size>)<br />
              <textarea id="txtComments" cols="86" class="form-control" maxlength="250" rows="2"></textarea>  
              <button type="button" id="btnClientApprove" style="float: right; margin-bottom: 5px;
                  margin-top: 5px;margin-left: 10px;" class="btn btn-success btn-sm pad" title="Approve Plan">
                  Approve Project Plan</button>             
              <button type="button" id="btnClientReject" style="float: right; margin-bottom: 5px;
                  margin-top: 5px;" class="btn btn-danger btn-sm pad" title="Reject Plan">
                  Reject Project Plan</button>
          </div>
          <br />
      </div>
      
    </div>
    <div class="modal-footer">
    <!--   <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      <button type="button" class="btn btn-primary">Save changes</button> -->
    </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- Client sign off End -->
</div>

<!-- Phase Menu CSS Start -->
<script>

 $(document).ready(function(){
  alert('testsft');
  // angular.element(document.getElementById('projectPlan')).scope().checkGantt();
        $(".gant_wdth").addClass("important");
});
</script>
<style>
.datepicker{
  z-index: 1030 !important;
}
#proj_plan .splitElement{
  height: 97%;
}
.fixedhdr td{
  width: 100px !important;
}
</style>